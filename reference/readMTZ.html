<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Reads mtz files and store both header information and
reflection data records in named lists. A third list is
used, if the mtz file is an unmerged file, for storing batch
headers."><title>Load an MTZ file — readMTZ • cry</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load an MTZ file — readMTZ"><meta property="og:description" content="Reads mtz files and store both header information and
reflection data records in named lists. A third list is
used, if the mtz file is an unmerged file, for storing batch
headers."><meta property="og:image" content="https://jfoadi.github.io/cry/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cry</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/MTZ.html">Read and analyse an MTZ file</a>
    <a class="dropdown-item" href="../articles/SHELX.html">Read SHELXC/D/E log file</a>
    <a class="dropdown-item" href="../articles/XDS.html">Read and analyse an XDS file</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Load an MTZ file</h1>
      
      <div class="d-none name"><code>readMTZ.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reads mtz files and store both header information and
reflection data records in named lists. A third list is
used, if the mtz file is an unmerged file, for storing batch
headers.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">readMTZ</span><span class="op">(</span><span class="va">filename</span>, message <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>filename</dt>
<dd><p>A character string. The path to a valid mtz
file.</p></dd>


<dt>message</dt>
<dd><p>A logical variable. If TRUE the
function prints a message highlighting data
included in the mtz file. Default value is
<code>message=FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A named list of length 3. The first element is
        called "reflections" and is a dataframe with as
        many columns as are included in the mtz file.
        The name of each column of the dataframe coincides
        with the name of the corresponding column in the mtz.
        The second element is called "header" and is a named
        list in which each name correspond to a valid field
        in the mtz header (see details in</p>
<p></p>
<p><code><a href="readMTZHeader.html">readMTZHeader</a></code>).
        The third element is called
        "batch_header" and is a list with as many elements as
        the number of batches (images) included in the mtz
        file. Each list element is, itself, a named list
        including all the useful variables stored in batch
        headers. If no batch headers are contained in the file
        (merged mtz), the batch_header element is NULL.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="va">datadir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,package<span class="op">=</span><span class="st">"cry"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">datadir</span>,<span class="st">"1dei_phases.mtz"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">ltmp</span> <span class="op">&lt;-</span> <span class="fu">readMTZ</span><span class="op">(</span><span class="va">filename</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>truncating string with embedded nuls</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">ltmp</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "reflections"  "header"       "batch_header"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">ltmp</span><span class="op">$</span><span class="va">reflections</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "data.frame"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ltmp</span><span class="op">$</span><span class="va">reflections</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'data.frame':	8377 obs. of  16 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ H          : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ K          : num  0 0 0 0 0 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ L          : num  4 6 8 10 14 3 4 5 6 7 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ FP         : num  420.2 784.6 266.9 60.6 94.3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ SIGFP      : num  48.03 53.49 18.89 21.46 5.33 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ FC         : num  411.5 719.3 156.4 79.5 42.4 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PHIC       : num  0 180 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ FC_ALL     : num  441.5 780.3 145.6 82.5 46.5 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PHIC_ALL   : num  0 180 360 0 360 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ FWT        : num  398.9 788.8 388.2 30.8 142 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PHWT       : num  0 180 360 0 360 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ DELFWT     : num  42.62 8.47 242.59 51.63 95.55 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PHDELWT    : num  180 180 360 180 360 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ FOM        : num  1 1 1 0.934 0.999 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ FC_ALL_LS  : num  461 743.4 145.4 81.8 42.3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ PHIC_ALL_LS: num  0 180 360 0 360 ...</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">ltmp</span><span class="op">$</span><span class="va">header</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "list"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">ltmp</span><span class="op">$</span><span class="va">batch_header</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NULL"</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">refs</span> <span class="op">&lt;-</span> <span class="va">ltmp</span><span class="op">$</span><span class="va">reflections</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">refs</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "H"           "K"           "L"           "FP"          "SIGFP"      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "FC"          "PHIC"        "FC_ALL"      "PHIC_ALL"    "FWT"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "PHWT"        "DELFWT"      "PHDELWT"     "FOM"         "FC_ALL_LS"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "PHIC_ALL_LS"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">refs</span><span class="op">$</span><span class="va">H</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  0 35</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by James Foadi, David Waterman, Rita Giordano, Kutumbarao Nidamarthi.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

    </footer></div>

  

  

  </body></html>

